<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description">
<meta content="The Hybrid Group" name="author">
<title>Galileo with Cylon.js</title>
<link href="/stylesheets/style.css" rel="stylesheet">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script src="/javascript/script.js"></script><script src="/hybridpages/assets/javascript/subnav.js"></script><link href="//fonts.googleapis.com/css?family=Inconsolata:400,700%7CMontserrat:700" rel="stylesheet">
<link href="/favicon.ico" rel="shortcut icon" type="image/gif">
<script type="text/javascript">


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46433484-2', {"cookieDomain":"cylonjs.com"});











   ga('send', 'pageview');


</script></head>
<body>
    
    <div class="app">
      <div class="w">
        <header class="app-header" role="banner"><div class="display">
            <h1 class="app-logo">
              <a href="/">Cylon</a>
            </h1>
            <span class="subtitle">
              <div class="main"></div>
            </span>
          </div>
          <span class="menu">
            <a href="/documentation" class="item">Docs</a>
            <a class="active" href="/documentation/platforms">Platforms</a>
            
            <a href="/blog" class="item">Blog</a>
            <a class="item" target="_blank" href="https://github.com/hybridgroup/cylon/">Github</a>
          </span>
        </header>
</div>
      <div class="page-title">
        <div class="w">
          <h1 class="title">Intel Galileo</h1>
          <h2 class="subtitle">
<a href="https://github.com/hybridgroup/cylon-galileo" target="_blank" class="repository">Repository</a> <a class href="https://github.com/hybridgroup/cylon-galileo/issues" target="_blank">Issues</a>
</h2>
        </div>
      </div>
      <section class="subnav-drivers" id="mainsubnav"><div class="container">
          <nav><a href="#HowToInstall">How To Install</a>
            <a href="#HowToUse">How To Use</a>
            <a href="#HowToConnect">How To Connect</a>
            <a href="#Drivers">Drivers</a>
            <a href="#top">Top</a>
          </nav>
</div>
      </section><div class="container">
        <div class="main" role="main">
          <section class="content full"><div class="documentation">
              <section class="intro"><img class="display" src="/images/devices/galileo.jpg"><div class="info-intro">
                  <p>The Intel® Galileo board is a microcontroller board based on the Intel® Quark SoC X1000 application processor, a 32-bit Intel® Pentium® brand system on a chip (SoC). It is the first board based on Intel® architecture designed to be hardware and software pin-compatible with shields designed for the Arduino Uno* R3..</p>
                  <p>
                    For more info about the Galileo platform click
                    <a target="blank" href="http://www.intel.com/content/www/us/en/do-it-yourself/galileo-maker-quark-board.html">here</a>.
                  </p>
                </div>
                <div class="clear"></div>
              </section><section class="how-to" id="HowToInstall"><h2>How To Install</h2>
                <p>Install the module with:</p>
                <pre class="CodeRay">npm install cylon-galileo
</pre>
              </section><section class="how-to" id="HowToUse"><h2>How To Use</h2>
                <pre class="CodeRay"><span class="keyword">var</span> Cylon = require(<span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>);

Cylon.robot({
        <span class="key">connection</span>: { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">galileo</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">galileo</span><span class="delimiter">'</span></span> },
        <span class="key">device</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">galileo</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">galileo</span><span class="delimiter">'</span></span>},

        <span class="function">work</span>: <span class="keyword">function</span>(my) {
                <span class="comment">// provide an example of your module here</span>
        }
}).start();
</pre>
              </section><section class="how-to" id="HowToConnect"><h2>How To Connect</h2>
                <h3>Setting up the Galileo bigger Linux image, connecting and updating node.js.</h3>
                <p>Setting up Intel's Galileo board takes a bit of work, but luckily you only have to do it once (we hope :-)... )</p>
                <p>The first step is to install the bigger linux image into an SD card and boot the Galileo from it, you can accomplish this by following the instructions on the galileo getting started page here:</p>
                <p>https://learn.sparkfun.com/tutorials/galileo-getting-started-guide/bigger-linux-image</p>
                <p>Please feel free to read through the getting started page, so you can get familiar with the board features.</p>
                <p>Once we have the bigger linux image in the sd card, and the galileo booting up from it, we need to connect and enable networking (turned off by default in the Galieleo bigger linux image).</p>
                <p>We can accomplish this by using a serialport to terminal program, you can read more about it in the getting started page here:</p>
                <p>https://learn.sparkfun.com/tutorials/galileo-getting-started-guide/using-the-terminal</p>
                <p>When you have connected successfully to the Galileo run this command to enable networking (make sure to connect the board to the network using an ethernet cable first):</p>
                <pre class="CodeRay">$ /etc/init.d/networking start
</pre>
                <p>This will allow us to connect using SSH, substitute the ip address with the one assigned to your Galileo:</p>
                <pre class="CodeRay">$ ssh root@192.168.0.5
</pre>
                <p>The final step of the setup is to update the node.js version included in the galileo bigger linux image, you can download a more up to date package from  here:</p>
                <p>https://communities.intel.com/servlet/JiveServlet/download/221298-75632/nodejs_0.10.25-r0_i586.ipk.zip</p>
                <p>Then we need to uncompress the file in the host computer:</p>
                <pre class="CodeRay">$ unzip nodejs_0.10.25-r0_i586.ipk.zip
</pre>
                <p>And copy the IPK package to the board, since the Galileo is already connected to the network (and we have an active session open that we can use) we can SCP the ipk package to update node.js to the galileo:</p>
                <pre class="CodeRay">$ scp nodejs_0.10.25-r0_i586.ipk root@192.168.0.5:/home/root/
</pre>
                <p>We then move to the Galileo terminal session and upgrade the installed node.js package by running the following command:</p>
                <pre class="CodeRay">opkg upgrade /tmp/nodejs_0.10.25-r0_i586.ipk
</pre>
                
                <p>Let's confirm node.js version by running <code>node -v</code></p>
                <pre class="CodeRay">        $ node -v
        v0.10.25
</pre>
                <p>Nice! We are good to go! With this we are pretty much setup to use Cylon.js in the Galileo.</p>
                <p>More details regarding updating node.js can be found here:</p>
                <p>https://communities.intel.com/thread/48416</p>
                <p>Install the module with: <code>npm install cylon-galileo</code></p>
                <h3>How to push code to your Galileo</h3>
                <p>The Galileo is a special case (compared to Beaglebone black and Raspberry Pi) since it lacks dev tools in the biggel Linux image, so at this time we do not have a different distribution to run in the sd card that does contain dev tools, so we'll have to make it work with what we have.</p>
                <p>You'll need to write your code and install npm modules on your computer, at very least setup your project folder and install NPM modules, all of this using the 32bit version of both node.js and NPM modules.</p>
                <p>First we need to download the 32bit version of Node.js:</p>
                <p>http://nodejs.org/dist/v0.10.26/node-v0.10.26-linux-x86.tar.gz</p>
                <p>You'll need to uncompress and run node and npm from that directory, I recommend creating links to the bin/node and bin/npm files in your home folder, that way you can easily install npm libraries using the 32bit version (needed by Galileo) and maintain your current global node instalation without messing with your path.</p>
                <pre class="CodeRay">$ ln  ~/node-v0.10.26-linux-x86/bin/node ~/nodex86
$ ln  ~/node-v0.10.26-linux-x86/bin/npm ~/npmx86
</pre>
                
                <p>Now, how to actually push code and run it in the Galileo, let's say we have a project folder called <code>galileo-blink</code>, we change directory intothe project folder, then we can either write our code there, in this case blink.js, or setup the project folder with all nedded NPM modules and work directly in the galileo board, of course all of this using the 32bit version of node.js we just installed:</p>
                <pre class="CodeRay">$ cd galileo-blink
$ ~/npmx86 install cylon
$ ~/npmx86 install cylon-galileo
$ ~/npmx86 install cylon-gpio
</pre>
                
                <p>This will create the <code>./node_modules/</code> folder in our project containing all the necessary modules that will run in the Galileo, so from here we can either work on our project and push the code later just for testing in the galileo, or push the modules and work directly in the Galileo, let's do the latter since makes development easier and quicker than having to push everytime we do a small change:</p>
                <pre class="CodeRay"># From our project root folder run
$ cd ../
$ tar -cf galileo-blink.tar ./galileo-blink
$ scp galileo-blink.tar root@192.168.0.5:/home/root/
</pre>
                <p>Once the project package finishes copying we go to our galileo session, and in the terminal we run the following:</p>
                <pre class="CodeRay">$ cd ~ 
$ tar -xf galileo-blink.tar
$ cd galileo-blink
$ vi blink.js
</pre>
                <p>We now have our environment ready to run the examples in the galileo, just copy paste the blink example (found in the examples section below), save it and run it.</p>
                <pre class="CodeRay"># From project root folder
$ node blink.js
</pre>
              </section><section class="drivers" id="Drivers"><h2>Drivers</h2>
                <p>Available drivers for the Skynet platform are listed below.</p>
                <div class="hardware">
                  <h2>GPIO Drivers</h2>
                  <div class="devices">
                    <!-- // Button -->
                    <a class="device" href="/documentation/drivers/button" title="Button">
                      <img src="/images/devices/button.jpg"></a>
                    <!-- // Continuos Servo -->
                    <a class="device" href="/documentation/drivers/continuous-servo" title="Continuous Servo">
                      <img src="/images/devices/continuous-servo.jpg"></a>
                    <!-- // LED -->
                    <a class="device" href="/documentation/drivers/led" title="LED">
                      <img src="/images/devices/LED.jpg"></a>
                    <!-- // Makey Button -->
                    <a class="device" href="/documentation/drivers/makey-button" title="Maxbotix Range Finder">
                      <img src="/images/devices/makey-button.jpg"></a>
                    <!-- // Maxbotix -->
                    <a class="device" href="/documentation/drivers/maxbotix" title="Maxbotix Range Finder">
                      <img src="/images/devices/maxbotix.jpg"></a>
                    <!-- // Motor -->
                    <a class="device" href="/documentation/drivers/motor" title="Motor">
                      <img src="/images/devices/motor.jpg"></a>
                    <!-- // Servo -->
                    <a class="device" href="/documentation/drivers/servo" title="Servo">
                      <img src="/images/devices/servo.jpg"></a>
                  </div>
                </div>
              </section>
</div>
          </section>
</div>
      </div>
    </div>
    <footer class="app-footer"><div class="w">
        <div class="copyright">
          <div class="left-side">
            © Copyright 2012-2014
            <a href="http://hybridgroup.com" id="THG-logo" target="_blank">
              <img alt="The Hybrid Group" src="/images/elements/THG_logo.png"></a>
          </div>
          <div class="right-side">
            <a href="#top">Top</a>
          </div>
          <div class="clear"></div>
        </div>
      </div>
    </footer>
</body>
</html>
