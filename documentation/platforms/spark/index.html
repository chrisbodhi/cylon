<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description">
<meta content="The Hybrid Group" name="author">
<title>Spark with Cylon.js</title>
<link href="/stylesheets/style.css" rel="stylesheet">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script src="/javascript/script.js"></script><script src="/hybridpages/assets/javascript/subnav.js"></script><link href="//fonts.googleapis.com/css?family=Inconsolata:400,700%7CMontserrat:700" rel="stylesheet">
<link href="/favicon.ico" rel="shortcut icon" type="image/gif">
<script type="text/javascript">


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46433484-2', {"cookieDomain":"cylonjs.com"});











   ga('send', 'pageview');


</script></head>
<body>
    
    <div class="app">
      <div class="w">
        <header class="app-header" role="banner"><div class="display">
            <h1 class="app-logo">
              <a href="/">Cylon</a>
            </h1>
            <span class="subtitle">
              <div class="main"></div>
            </span>
          </div>
          <span class="menu">
            <a href="/documentation" class="item">Docs</a>
            <a href="/documentation/platforms" class="item">Platforms</a>
            
            <a href="/blog" class="item">Blog</a>
            <a class="item" target="blanck" href="https://github.com/hybridgroup/cylon/">Github</a>
          </span>
        </header>
</div>
      <div class="page-title">
        <div class="w">
          <h1 class="title">Spark</h1>
          <h2 class="subtitle">
<a href="https://github.com/hybridgroup/cylon-spark" target="blanck" class="repository">Repository</a> <a class="issues" href="https://github.com/hybridgroup/cylon-spark/issues" target="blanck">Issues</a>
</h2>
        </div>
      </div>
      <section class="subnav-drivers" id="mainsubnav"><div class="container">
          <nav><a href="#HowToInstall">How To Install</a>
            <a href="#HowToUse">How To Use</a>
            <a href="#HowToConnect">How To Connect</a>
            <a href="#Drivers">Drivers</a>
            <a href="#top">Top</a>
          </nav>
</div>
      </section><div class="container">
        <div class="main" role="main">
          <section class="content full"><div class="documentation">
              <section class="intro"><img class="display" src="/images/devices/spark.jpg"><div class="info-intro">
                  <p>The Spark Core contains a Wi-Fi connected microcontroller. Once it connects to a Wi-Fi network, it automatically connects with a central server (the "Spark Cloud") and stays connected so it can be controlled from external systems, such as a Cylon.js program.</p>
                  <p>
                    For more info about the Spark platform go to
                    <a target="blank" href="https://www.spark.io/">https://www.spark.io/</a>.
                  </p>
                </div>
                <div class="clear"></div>
              </section><section class="how-to" id="HowToInstall"><h2>How To Install</h2>
                <p>Installing Cylon.js with Spark support is pretty easy.</p>
                <pre class="CodeRay">npm install cylon-spark
</pre>
              </section><section class="how-to" id="HowToUse"><h2>How To Use</h2>
                <p>This small program lets you turn on or off a LED for every 1 sec.</p>
                <h3>JavaScript</h3>
                <pre class="CodeRay"><span class="keyword">var</span> Cylon = require(<span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>);

Cylon.robot({
  <span class="key">connection</span>: { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">spark</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">spark</span><span class="delimiter">'</span></span>, <span class="key">accessToken</span>: <span class="string"><span class="delimiter">'</span><span class="content">XYZPDQ123</span><span class="delimiter">'</span></span>, <span class="key">deviceId</span>: <span class="string"><span class="delimiter">'</span><span class="content">123ABC456</span><span class="delimiter">'</span></span> },
  <span class="key">device</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">led</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">led</span><span class="delimiter">'</span></span>, <span class="key">pin</span>: <span class="string"><span class="delimiter">'</span><span class="content">D7</span><span class="delimiter">'</span></span>},

  <span class="function">work</span>: <span class="keyword">function</span>(my) {
    every((<span class="integer">3</span>).second(), <span class="keyword">function</span>() {my.led.toggle()});
  }
}).start();
</pre>
                <h3>CoffeeScript</h3>
                <pre class="CodeRay"><span class="constant">Cylon</span> = require(<span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>)

<span class="constant">Cylon</span>.robot
  <span class="key">connection</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">spark</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">spark</span><span class="delimiter">'</span></span>, <span class="key">accessToken</span>: <span class="string"><span class="delimiter">'</span><span class="content">XYZPDQ123</span><span class="delimiter">'</span></span>, <span class="key">deviceId</span>: <span class="string"><span class="delimiter">'</span><span class="content">123ABC456</span><span class="delimiter">'</span></span>

  <span class="key">device</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">led</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">led</span><span class="delimiter">'</span></span>, <span class="key">pin</span>: <span class="string"><span class="delimiter">'</span><span class="content">D0</span><span class="delimiter">'</span></span>

  <span class="key">work</span>: (my) -&gt;
    every <span class="integer">1</span>.second(), -&gt; my.led.toggle()

.start()
</pre>
              </section><section class="public-methods" id="PublicMethods"><div class="commands-api">
                  <h1 id="commands">Commands</h1>
                  
                  <h2 id="commandcommandname-args-callback">command(commandName, args, callback)</h2>
                  
                  <p>Calls a function on the Spark Core via the API.</p>
                  
                  <h5 id="params">Params</h5>
                  
                  <ul>
<li>
<strong>commandName</strong> - string name of the function to call on the Spark</li>
                    <li>
<strong>args</strong> - array of arguments to pass to the function call</li>
                    <li>
<strong>callback</strong> - optional, callback to be triggered with the response_value from
                  Spark's API</li>
                  </ul>
<h5 id="returns">Returns</h5>
                  
                  <p><code>null</code></p>
                  
                  <h2 id="variablevariablename-callback">variable(variableName, callback)</h2>
                  
                  <p>Requests the value of a variable from the Spark Core via the API</p>
                  
                  <h5 id="params-1">Params</h5>
                  
                  <ul>
<li>
<strong>variableName</strong> - name of the variable to request from the Spark Core</li>
                    <li>
<strong>callback</strong> - callback to be triggered with the value from the Spark Core</li>
                  </ul>
<h5 id="returns-1">Returns</h5>
                  
                  <p><code>null</code></p>
                  
                  <h2 id="listenforeventsevents">listenForEvents(events)</h2>
                  
                  <p>Listens to Server-Sent Events coming from the Spark Core, and emits the same
                  events.</p>
                  
                  <h5 id="params-2">Params</h5>
                  
                  <ul>
<li>
<strong>events</strong> - array of events to add listeners for</li>
                  </ul>
<h5 id="returns-2">Returns</h5>
                  
                  <p><code>null</code></p>
                </div>
                <br><strong>Note:</strong> In addition to the above methods, the Spark adaptor supports the full GPIO pin interface, as long as you are using Tinker, or a Tinker compatible program running on the Spark itself.
              </section><section class="how-to" id="HowToConnect"><h2>Uploading</h2>
                <h3>Uploading Code To Your Spark Core Using the Cylon CLI</h3>
                <pre class="CodeRay">$ cylon spark upload [access_token] [device_id] new_firmware.cpp
</pre>
                <p>The <code>cylon spark upload</code> command can help if you want to upload new source code directly to your Spark Core.</p>
                <p>
                  For more information on how to program your Spark, please see
                  <a target="blank" href="http://docs.spark.io/#/examples">Spark's examples</a>
                </p>
                <p>
                  You'll need your <code>access_token</code> and <code>device_id</code> to push new software to your Spark, and you can get both of these from Spark's
                  <a target="blank" href="https://spark.io/build">Build tool</a>
                </p>
                <ul>
<li>
<code>access_token:</code> In the Build tool, click on the Settings cog in the bottom-left corner to find your access token.</li>
                  <li>
<code>device_id:</code> After you have your Spark Core registered to your account through the Tinker app, click on the Cores section (just above the Settings cog) on the Build tool. Then, click on the arrow next to your core's name to get its device ID.</li>
                </ul></section><section class="drivers" id="Drivers"><h2>Drivers</h2>
                <p>Available drivers for the spark platform are listed below, the drivers contain detailed documentation and examples of what kinds of physical computing (using Cylon.js and Node.js) you can be doing:</p>
                <div class="hardware">
                  <h2>GPIO Drivers</h2>
                  <div class="devices">
                    <!-- // Analog Sensor -->
                    <a class="device" href="/documentation/drivers/analog-sensor" title="Analog Sensor">
                      <img src="/images/devices/analog-sensor.jpg"></a>
                    <!-- // Button -->
                    <a class="device" href="/documentation/drivers/button" title="Button">
                      <img src="/images/devices/button.jpg"></a>
                    <!-- // Continuos Servo -->
                    <a class="device" href="/documentation/drivers/continuous-servo" title="Continuous Servo">
                      <img src="/images/devices/continuous-servo.jpg"></a>
                    <!-- // LED -->
                    <a class="device" href="/documentation/drivers/led" title="LED">
                      <img src="/images/devices/LED.jpg"></a>
                    <!-- // Maxbotix -->
                    <a class="device" href="/documentation/drivers/maxbotix" title="Maxbotix Range Finder">
                      <img src="/images/devices/maxbotix.jpg"></a>
                    <!-- // Motor -->
                    <a class="device" href="/documentation/drivers/motor" title="Motor">
                      <img src="/images/devices/motor.jpg"></a>
                    <!-- // Servo -->
                    <a class="device" href="/documentation/drivers/servo" title="Servo">
                      <img src="/images/devices/servo.jpg"></a>
                  </div>
                </div>
              </section>
</div>
          </section>
</div>
      </div>
    </div>
    <footer class="app-footer"><div class="w">
        <div class="copyright">
          Â© Copyright 2012-2014
          <a href="http://hybridgroup.com">The Hybrid Group.</a>
        </div>
      </div>
    </footer>
</body>
</html>
